# Progresser ‚Äî –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ –≤–∞—à–µ–º –¢–ì –∫–∞–Ω–∞–ª–µ

–¢–µ–ª–µ–≥—Ä–∞–º‚Äë–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–æ—Å—Ç—ã –≤ –∫–∞–Ω–∞–ª –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∂–∏–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å‚Äë–±–∞—Ä –¥–æ –º–æ–º–µ–Ω—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. 

![Demo](assets/demo.gif)


## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚è≥ –ñ–∏–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å‚Äë–±–∞—Ä –ø—Ä—è–º–æ –≤ –∫–∞–Ω–∞–ª–µ 
- üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç –∏–ª–∏ üì∑ —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é
- ‚è± –ü—Ä–µ—Å–µ—Ç—ã –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: 1/5/10 –º–∏–Ω—É—Ç –ª–∏–±–æ —Å–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
- ‚ôªÔ∏è –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞: –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –±–∞—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è (SQLite)
- ‚ùå –û—Ç–º–µ–Ω–∞ –ª—é–±–æ–π –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ `/cancel` —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
- üîê `/check_add` ‚Äî —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π (–æ—Ç–ø—Ä–∞–≤–∫–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ) —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ—Ç—á—ë—Ç–æ–º
- üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: —Ä—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (`--language en`)
- üê≥ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é: Docker + docker‚Äëcompose (–∞–≤—Ç–æ—Ä–µ—Å—Ç–∞—Ä—Ç, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ë–î)

## –°—Ç–µ–∫

- Python 3.10+, `python-telegram-bot` v22
- `python-dotenv`
- SQLite (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á)
- Docker, Docker Compose

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1) –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/run` –∏ –ø—Ä–∏—à–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏/–∏–ª–∏ —Ñ–æ—Ç–æ.
2) –í—ã–±–µ—Ä–∏—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞.
3) –ë–æ—Ç –æ–ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ‚Äë–ø—Ä–æ–≥—Ä–µ—Å—Å‚Äë–±–∞—Ä –∏ –±—É–¥–µ—Ç –µ–≥–æ –æ–±–Ω–æ–≤–ª—è—Ç—å.
4) –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –±–æ—Ç —É–¥–∞–ª–∏—Ç –±–∞—Ä –∏ –æ–ø—É–±–ª–∏–∫—É–µ—Ç –≤–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç A ‚Äî Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```
BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"
CHANNEL_ID="ID_–í–ê–®–ï–ì–û_–ö–ê–ù–ê–õ–ê"
```

2. –ó–∞–ø—É—Å–∫:
```bash
docker compose up -d --build
```

3. –õ–æ–≥–∏:
```bash
docker compose logs -f
```

4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
docker compose down
```

–ó–∞–º–µ—Ç–∫–∏:
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—é `./jobs.db` ‚Üí `/app/jobs.db`.
- –°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `restart: unless-stopped` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö.

### –í–∞—Ä–∏–∞–Ω—Ç B ‚Äî Docker

```bash
docker build -t progress-bar-bot .
docker run -d --env-file .env progress-bar-bot
```

–ò–ª–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é:
```bash
docker run -d \
  -e BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê" \
  -e CHANNEL_ID="ID_–í–ê–®–ï–ì–û_–ö–ê–ù–ê–õ–ê" \
  progress-bar-bot
```

### –í–∞—Ä–∏–∞–Ω—Ç C ‚Äî –õ–æ–∫–∞–ª—å–Ω–æ

```bash
pip install -r requirements.txt
# —Å–æ–∑–¥–∞–π—Ç–µ .env —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –Ω–∏–∂–µ
python bot.py
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
- `CHANNEL_ID` ‚Äî ID –∫–∞–Ω–∞–ª–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –±–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `-100...`)

–ü–æ–¥—Å–∫–∞–∑–∫–∞: –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ ID –∫–∞–Ω–∞–ª–∞ ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∞—à –∫–∞–Ω–∞–ª –±–æ—Ç—É @username_to_id_bot, –æ–Ω –≤–µ—Ä–Ω—ë—Ç —á–∏—Å–ª–æ–≤–æ–π ID (–æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-100`).

–ü—Ä–∏–º–µ—Ä `.env`:
```env
BOT_TOKEN=8260xxxxxxxxxxxxxxxxxxxxxxxxxxxx
CHANNEL_ID=-1002033013466
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `/run` ‚Äî –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å –ø—Ä–æ–≥—Ä–µ—Å—Å‚Äë–±–∞—Ä–æ–º
- `/cancel` ‚Äî —Å–ø–∏—Å–æ–∫/–æ—Ç–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
- `/check_add` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤ –∫–∞–Ω–∞–ª–µ (–æ—Ç–ø—Ä–∞–≤–∫–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ)

## –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ä—É—Å—Å–∫–∏–π. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π:
```bash
python bot.py --language en
```

–ß–µ—Ä–µ–∑ Docker:
```bash
docker run --rm -it --env-file .env progress-bar-bot python bot.py --language en
```

–ß–µ—Ä–µ–∑ Docker Compose (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫):
```bash
docker compose run --rm bot python bot.py --language en
```

## –û—Ç–º–µ–Ω–∞ –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

- –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–¥–∞—á–∞ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `cancelled`, –ø—Ä–æ–≥—Ä–µ—Å—Å‚Äë—Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –±–µ–∑ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ —Å—Ç–∞—Ç—É—Å–µ `active`.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –¢–∞–±–ª–∏—Ü–∞ SQLite `jobs`: `id, chat_id, message_id, post_text, media(json), duration, start_time, status`.
- –ü—Ä–æ–≥—Ä–µ—Å—Å‚Äë–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞—Ç—á–∞—Ç—Å—è –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É, —á—Ç–æ–±—ã –Ω–µ —É–ø–∏—Ä–∞—Ç—å—Å—è –≤ –ª–∏–º–∏—Ç—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- `/check_add` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã: –æ—Ç–ø—Ä–∞–≤–∫–∞ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ (—É–¥–∞–ª–µ–Ω–∏–µ ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏ –≤—ã–¥–∞—ë—Ç –Ω–µ–¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –æ—Ç—á—ë—Ç –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.
- –í docker‚Äëcompose –≤–∫–ª—é—á—ë–Ω `restart: unless-stopped` –∏ –±–∏–Ω–¥–∏–Ω–≥ –ë–î –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî —Å–º. —Ñ–∞–π–ª `LICENSE`.
